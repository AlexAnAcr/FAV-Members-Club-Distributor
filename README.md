# Members Club Distributor (MCD)
> Вашему вниманию предлагается один из наиболее интересных репозиториев AlexAnAcr. Это реальный (не шуточный/развлекательный) проект, который разрабатывался как внутренняя утилита для организаторов.

В данном репозитории представлены 2 программы: **Participator's distributor** и **MCD** (**Members Club Distributor**).
Вторая - это более новая версия первой, значительно дополненная функционально.
В дальнейшем в описании я остановлюсь только на MCD.

<img alt="mcd" src="https://github.com/user-attachments/assets/2e1de9f6-bac4-456a-85e6-5430a24948fb" />

## Установка
Для установки рекомендуется воспользоваться установщиком из раздела **Releases**.

## Использование
Во-первых, важно отметить, что на большинстве элементов интерфейса есть всплывающие подсказки, которые помогут изучить ту или иную функциональность.

Итак, при первом запуске вам будет предложено ввести имя пользователя и организации. 
В эти поля можно ввести любые данные, ну лучше ввести что-то связанное с областью использования программы. 
Например, в *имя пользователя* ввести "Игорь", а в *название организации* "Клуб программистов". 
Имя должно отражать пользователя конкретного экземпляра программы.

### Команды
После ввода данных (или отмены), Вы сможете работать с основным окном программы:

![Scheme](Members%20Club%20Distributor/shot_1.PNG)

На открытой вкладке ("Команды") находится распределитель участников по командам с учётом "склонности" (эта часть пришла из *Participator's distributor*).
Для работы распределителя нужно добавить участников (имена, например) в левый список, а команды - в правый и начать распределение, нажав кнопку "Распределение".
Результаты появляются в списке снизу, список результатов можно сохранить в файл кнопкой "Сохранить". Кнопка "Сброс" очищает *ВСЕ* списки!

У участников и команд, помимо имени, есть "распределительный номер" - число, показывающее "склонность". 
При распределении программа пытается сделать так, чтобы рН участника и команды имели минимальное расхождение. 
рН можно задать прямо при вводе имени участника: для этого надо ввести после имени символ "/", за которым должен следовать собственно сам номер. Пример: "Иван/4". 
После ввода имени до нажатия кнопки добавления или *Enter* (да, так тоже работает), нужно зажать клавишу *Shift* (добавление в список команд работает аналогично).
Что находится в настройках распределения? 
2 параметра: 1 настраивает допустимое расхождение количества участников в командах (0-1 по умолчанию); 2 указывает, могут ли соседние в списке участников состоять в одной команде (по умолчанию - могут).

### Турниры
Интерфейс данной вкладки очень похож на интерфейс предыдущей:

![Scheme](Members%20Club%20Distributor/shot_2.PNG)

Здесь по-сути всё в точности так же, но есть одно отличие: список "Команды" синхронизирован со одноимённым списком со вкладки "Команды". В остальном всё в точности так же.

### Таймер
На данной вкладке вы можете установить таймер... Выглядит вкладка следующим образом:

![Scheme](Members%20Club%20Distributor/shot_3.PNG)

Всё довольно интуитивно. Кнопка настроек открывает следующие параметры:

![Scheme](Members%20Club%20Distributor/shot_4.PNG)

Вероятно, здесь всё будет понятно, кроме уведомлений. О них расскажу далее.

#### Уведомления
Панель уведомлений можно увидеть на скриншоте ниже:

![Scheme](Members%20Club%20Distributor/shot_5.PNG)

Уведомления могут быть 2 типов: статические и динамические. 
Статические представляют из себя простое сообщение и остаются на месте, пока их не уберут вручную. 
Динамические же уведомления могут менять своё сообщение с течением времени (например, уведомление таймера), а так же удаляться самостоятельно (но их по-прежнему можно удалить вручную).
Обычно, уведомления начала/старта и т.п. являются статическими, а уведомления о прогрессе и т.д. - динамическими.

Под списком уведомлений есть 3 кнопки: перейти, убрать и настройки.
Кнопка "Перейти" открывает вкладку источника уведомления и выделяет элемент интерфейса, которых уведомление вызвал.
Кнопка "Убрать" удаляет выделенное уведомление из списка.
Кнопка "Настройки" открывает следующий интерфейс:

![Scheme](Members%20Club%20Distributor/shot_6.PNG)

### База данных
Теперь рассмотрим самый самый крупный раздел - базу данных. База данных хранится локально в папке программы. Когда в базе нет записей, интерфейс выглядит следующим образом:

![Scheme](Members%20Club%20Distributor/shot_7.PNG)

Важно: для полного понимания работы какого-то элемента, наведите на него курсор мыши и дождитесь появления всплывающей подсказки.

Интерфейс базы данных можно считать интуитивно понятным, поэтому остановимся только на некоторых моментах.
Кстати, у таблицы БД есть контекстное меню.

#### Добавление и редактирование записей
Для добавления записей нужно воспользоваться кнопкой добавления. Это просто. 
Есть, однако, важный момент: нельзя добавить запись, где хотя бы одно из следующих полей пустое: "Имя", "Дата рождения", "Школа" и "Класс". Введено данное ограничение с целью предотвращения пустых записей.

![Scheme](Members%20Club%20Distributor/shot_8.PNG)

Есть момент с добавлением фото. Для добавления фото в окне добавления нужно нажать кнопку "Изменить фотографию". Откроется интерфейс:

![Scheme](Members%20Club%20Distributor/shot_9.PNG)

В открывшемся интерфейсе источник фотографии отображается сверху. Источником может быть как уже загруженное фото, так и новое (при добавлении доступно только новое).
После выбора фотографии, необходимо нажать кнопку "Редактировать". При добавлении это необходимо т.к. все новые фотографии должны пройти коррекцию (в случае необходимости коррекции, о ней будет написано).
В редакторе можно выполнить обрезку фотографии. Размеры области для сохранения можно ввести в поля "X", "Y", "W" и "H". 
Когда отображаемый в окне просмотра результат вас устроит, нажмите кнопку "Сохранить".

Редактирование записи проходит подобно добавлению, за исключением того, что для перехода к редактированию есть больше путей и того, что при редактировании поля заполнены имеющийся данными.

Важно отметить, что поле "Навыки" не совсем обычное: в нём можно задать специальный параметр - распределительный номер. Делается это в следующем формате: */dn {n}*, где *{n}* - число. Данная конструкция должна находиться на отдельной строке (не важно на какой).

После добавления элементов в базу, интерфейс будет примерно таким:

![Scheme](Members%20Club%20Distributor/shot_10.PNG)

По всем отображаемым столбцам (кроме фото) можно произвести сортировку. Ширина столбцов корректируется автоматически.

#### Поиск
Интерфейс поиска выглядит по началу устрашающе:

![Scheme](Members%20Club%20Distributor/shot_11.PNG)

Однако его использование весьма удобно. По умолчанию все настройки поиска выставлены оптимальные. 
От вас будет требоваться только ввести часть слова для поиска в соответствующее поле. 
Например, если вы ищите Игоря, введите в поле "Имя" слово "*Игорь*", и нажмите на кнопку "Поиск".
Кнопка "Сброс" очищает все поля поиска и меняет настройки поиска на стандартные.
Если об Игоре сведений больше, чем просто имя, эти сведения можно ввести в другие поля, чтобы уменьшить размер выдачи. 


Каждое поле для поиска может содержать более одного кандидата: для этого кандидаты на поиск должны быть разделены символом "\" (слэш).
Вы можете узнать больше, если наведёте курсор на текстовые обозначения "Поиск по", "Режим учёта", "Условия сходства" и "Условие поиска".

#### Режимы просмотра
У просмотрщика списка элементов базы данных есть два режима: "Стандарт" (отображаются все элементы) и "Поиск" (отображаются только те элементы, что удовлетворили условию последнего поиска - иными словами, поисковая выдача).
После поиска выводится список именно во 2-ом режиме. Рекомендуется прочитать всплывающие подсказки на переключателях вида ("Стандарт"/"Поиск").

Выбрать элемент из списка можно кликом. При помощи кнопок Shift и Ctrl можно выбрать несколько элементов.

#### Добавление к распределению и Word
Добавление к распределению и вывод в word - две отдельные функции, предназначенные для экспорта элементов БД. 
Первый вариант позволяет удобно добавлять участников из БД в распределение (однако, команды и турниры нужно добавлять вручную).
Второй вариант выполняет сохранение анкеты в документ Microsoft Office Word (кстати, для работы этой функции данный пакет должен быть установлен на вашем ПК). Настройка вывода в Word имеют следующий вид:

![Scheme](Members%20Club%20Distributor/shot_12.PNG)

Рекомендуется обратить внимание на всплывающие подсказки, а также на кнопки с буквой **i**, текст которых может меняться в зависимости от ситуации.

## Дальнейшая разработка
Как Вы могли заметить, в конечной версии (2.1) реализован не весь запланированный функционал: осталась нереализованной функция синхронизации базы данных по сети.

Если Вас заинтересовала данная программа, и вы хотите заняться разработкой, прошу создать **Pull request** с обновлённым кодом.
